(function(e){function t(t){for(var i,s,r=t[0],c=t[1],u=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/rcj-dss/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"03b7":function(e,t,n){"use strict";n("ed19")},"0a67":function(e){e.exports=JSON.parse('[{"teamId":"RL 1","name":"Ad astra","competition":"line"},{"teamId":"RL 2","name":"athe1","competition":"line"},{"teamId":"RL 3","name":"athe2","competition":"line"},{"teamId":"RL 4","name":"athe3","competition":"line"},{"teamId":"RL 5","name":"Deutsch-Russisches Bündnis","competition":"line"},{"teamId":"RL 6","name":"Die Affen","competition":"line"},{"teamId":"RL 7","name":"GHG_LINE","competition":"line"},{"teamId":"RL 8","name":"NIEMAND","competition":"line"},{"teamId":"RL 9","name":"p\'tats","competition":"line"},{"teamId":"RL 10","name":"Pegasus","competition":"line"},{"teamId":"RL 11","name":"Roborwell","competition":"line"},{"teamId":"RL 12","name":"RobΩhm","competition":"line"},{"teamId":"RL 13","name":"Team Orwell","competition":"line"},{"teamId":"RL 14","name":"tux 1","competition":"line"},{"teamId":"RL 15","name":"Work in Pogress","competition":"line"},{"teamId":"RLE 1","name":"Alpha Team","competition":"line-entry"},{"teamId":"RLE 2","name":"edgar1_1","competition":"line-entry"},{"teamId":"RLE 3","name":"EV12","competition":"line-entry"},{"teamId":"RLE 4","name":"HMS Rescue","competition":"line-entry"},{"teamId":"RLE 5","name":"MHS","competition":"line-entry"},{"teamId":"RLE 6","name":"Mika and the Robogirls","competition":"line-entry"},{"teamId":"RLE 7","name":"minions","competition":"line-entry"},{"teamId":"RLE 8","name":"NinaUndGreta","competition":"line-entry"},{"teamId":"RLE 9","name":"OhmBot-Bienen","competition":"line-entry"},{"teamId":"RLE 10","name":"robinator","competition":"line-entry"},{"teamId":"RLE 11","name":"Robotics Squad","competition":"line-entry"},{"teamId":"RLE 12","name":"Scorpion","competition":"line-entry"},{"teamId":"RLE 13","name":"Sedai Robo","competition":"line-entry"},{"teamId":"RLE 14","name":"Slimeys","competition":"line-entry"},{"teamId":"RLE 15","name":"Team4","competition":"line-entry"},{"teamId":"RLE 16","name":"the endgamer","competition":"line-entry"}]')},"0a8d":function(e,t,n){"use strict";n("147c")},"0ed0":function(e,t,n){"use strict";n("dc61")},"147c":function(e,t,n){},"18c1":function(e,t,n){"use strict";n("e8dd")},1942:function(e){e.exports=JSON.parse('[{"arenaId":"A","name":"Arena A","maps":[{"from":"2022-03-19T08:00:00Z","to":"2022-03-19T18:00:00Z","mapId":"rl1"}]},{"arenaId":"B","name":"Arena B","maps":[{"from":"2022-03-19T08:00:00Z","to":"2022-03-19T18:00:00Z","mapId":"rle1"}]}]')},"1a56":function(e,t,n){},"232e":function(e,t,n){},2657:function(e,t,n){},"2e3c":function(e,t,n){},"33d9":function(e){e.exports=JSON.parse('["2022-berlin"]')},"34ad":function(e,t,n){"use strict";n("4237")},"36f8":function(e,t,n){"use strict";n("7cef")},"36fa":function(e,t,n){"use strict";n("cd4a")},"3e44":function(e,t,n){"use strict";n("2e3c")},"3e53":function(e){e.exports=JSON.parse('{"time":1643484656414}')},4237:function(e,t,n){},"448a":function(e){e.exports=JSON.parse('{"rounds":1,"arenasByCompetition":{"line-entry":["B"],"line":["A"]}}')},"4e56":function(e,t,n){"use strict";n("cf7f")},"4fb6":function(e,t,n){"use strict";n("1a56")},5033:function(e){e.exports=JSON.parse('["line","line-entry"]')},5246:function(e,t,n){e.exports=n.p+"img/start.81ebc833.svg"},5479:function(e,t,n){"use strict";n("b63f")},"54a0":function(e){e.exports=JSON.parse('[{"competition":"line-entry","teamId":"RLE 3","time":"2022-03-19T10:00:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":1},{"competition":"line-entry","teamId":"RLE 7","time":"2022-03-19T10:10:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":2},{"competition":"line-entry","teamId":"RLE 1","time":"2022-03-19T10:20:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":3},{"competition":"line-entry","teamId":"RLE 10","time":"2022-03-19T10:30:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":4},{"competition":"line-entry","teamId":"RLE 8","time":"2022-03-19T10:40:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":5},{"competition":"line-entry","teamId":"RLE 5","time":"2022-03-19T10:50:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":6},{"competition":"line-entry","teamId":"RLE 13","time":"2022-03-19T11:10:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":7},{"competition":"line-entry","teamId":"RLE 11","time":"2022-03-19T11:20:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":8},{"competition":"line-entry","teamId":"RLE 6","time":"2022-03-19T11:30:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":9},{"competition":"line-entry","teamId":"RLE 14","time":"2022-03-19T11:40:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":10},{"competition":"line-entry","teamId":"RLE 15","time":"2022-03-19T11:50:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":11},{"competition":"line-entry","teamId":"RLE 12","time":"2022-03-19T12:00:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":12},{"competition":"line-entry","teamId":"RLE 16","time":"2022-03-19T12:10:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":13},{"competition":"line-entry","teamId":"RLE 9","time":"2022-03-19T13:10:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":14},{"competition":"line-entry","teamId":"RLE 4","time":"2022-03-19T13:20:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":15},{"competition":"line-entry","teamId":"RLE 2","time":"2022-03-19T13:40:00+01","arenaId":"B","round":1,"event":"2022-berlin","runId":16},{"competition":"line","teamId":"RL 1","time":"2022-03-19T10:00:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":17},{"competition":"line","teamId":"RL 2","time":"2022-03-19T10:10:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":18},{"competition":"line","teamId":"RL 11","time":"2022-03-19T10:20:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":19},{"competition":"line","teamId":"RL 5","time":"2022-03-19T10:30:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":20},{"competition":"line","teamId":"RL 3","time":"2022-03-19T10:40:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":21},{"competition":"line","teamId":"RL 13","time":"2022-03-19T10:50:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":22},{"competition":"line","teamId":"RL 6","time":"2022-03-19T11:10:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":23},{"competition":"line","teamId":"RL 4","time":"2022-03-19T11:20:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":24},{"competition":"line","teamId":"RL 8","time":"2022-03-19T11:40:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":25},{"competition":"line","teamId":"RL 14","time":"2022-03-19T11:50:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":26},{"competition":"line","teamId":"RL 10","time":"2022-03-19T12:00:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":27},{"competition":"line","teamId":"RL 9","time":"2022-03-19T12:10:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":28},{"competition":"line","teamId":"RL 15","time":"2022-03-19T13:10:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":29},{"competition":"line","teamId":"RL 7","time":"2022-03-19T13:20:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":30},{"competition":"line","teamId":"RL 12","time":"2022-03-19T13:40:00+01","arenaId":"A","round":1,"event":"2022-berlin","runId":31}]')},"5d5b":function(e,t,n){},"644b":function(e,t,n){e.exports=n.p+"img/pause.cbfa839a.svg"},"6ce2":function(e){e.exports=JSON.parse('{"languageName":"Deutsch","general":{"evacuationPoint":"Evakuierungspunkt","epLow":"flach","epHigh":"hoch","buttonSetTime":"Zeit Anpassen"},"nav":{"appTitle":"RCJ Digital Scoring Sheet","routeNames":{"/":"Home","/login":"Login","/run":"Neuer Lauf","/settings":"Einstellungen","/runhistory":"Lauf-Historie"}},"home":{"message":"Hallo, Welt!"},"login":{"headingLogin":"Login","username":"Nutzername","password":"Passwort","buttonLogin":"Login"},"run":{"setup":{"runSetup":"Lauf - Allgemeines Setup","competition":"Wettbewerb","arena":"Arena","round":"Runde","selectTeam":"Team Auswählen"},"team":{"runTeam":"Lauf - Team","team":"Team"},"preRun":{"runPreRun":"Lauf - Setup","teamShowedUp":"Team erschienen"},"run":{},"postRun":{},"review":{"review":"Review","submit":"Hochladen","submittingRun":"Hochladen des Laufs"},"submitResult":{"submitResult":"Ergebnis des Hochladens","newRun":"Neuer Lauf","runHistory":"Lauf-Historie"}},"runHistory":{"runHistory":"Lauf-Historie"},"settings":{"settings":"Einstellungen","app":"App","language":"Sprache","drawer":"Drawer","drawerOnRightText":"Drawer auf der rechten Seite (standardmäßig: links)","runSubmission":"Hochladen von Läufen","event":"Event","submitHost":"Host","submitPath":"Pfad"}}')},"6ebc":function(e,t,n){},7199:function(e,t,n){"use strict";n("5d5b")},"7ca2":function(e,t,n){"use strict";n("c714")},"7cef":function(e,t,n){},"8f78":function(e,t,n){"use strict";n("232e")},"94be":function(e,t,n){"use strict";n("2657")},"95e5":function(e,t,n){n("13d5");const i=["teams.json","events.json","competitions.json","arenas.json","scheduled-runs.json"];function o(e,t){return{...JSON.parse(e[t.findIndex(e=>"scheduled-runs.json"===e)]).reduce((e,t)=>({rounds:Math.max(e.rounds||0,t.round),arenasByCompetition:{...e.arenasByCompetition,[t.competition]:e.arenasByCompetition&&t.competition in e.arenasByCompetition?e.arenasByCompetition[t.competition].includes(t.arenaId)?e.arenasByCompetition[t.competition]:e.arenasByCompetition[t.competition].concat([t.arenaId]):[t.arenaId]}}))}}e.exports={jsonFiles:i,getComputedData:o}},a1da:function(e,t,n){},a403:function(e,t,n){},ae09:function(e,t,n){},b26c:function(e,t,n){"use strict";n("ae09")},b63f:function(e,t,n){},b78b:function(e,t,n){"use strict";n("c0e3")},c0e3:function(e,t,n){},c1d4:function(e,t,n){"use strict";n("6ebc")},c714:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var i=n("7a23");const o={class:"app-main noselect"};function a(e,t,n,a,s,r){const c=Object(i["F"])("Loader"),u=Object(i["F"])("ColorTheme"),l=Object(i["F"])("NavigationBar"),d=Object(i["F"])("router-view");return Object(i["x"])(),Object(i["g"])("div",o,[Object(i["k"])(c),Object(i["k"])(u),Object(i["k"])(l,{config:e.navigationBarConfig},null,8,["config"]),Object(i["k"])(d,{class:"app-content"})])}Object(i["A"])("data-v-36cb3e2c");const s={class:"navigation-bar"},r={viewBox:"0 0 72 72"},c={x1:"8",y1:"20",x2:"64",y2:"20"},u=Object(i["h"])("line",{x1:"8",y1:"36",x2:"64",y2:"36"},null,-1),l={x1:"8",y1:"52",x2:"64",y2:"52"},d={x1:"6.5",y1:"37.5",x2:"36",y2:"8"},m={x1:"6.5",y1:"34.5",x2:"36",y2:"64"},h={class:"title-wrapper"},b={class:"title"};function p(e,t,n,o,a,p){const O=Object(i["F"])("swipe-gestures"),g=Object(i["F"])("navigation-drawer");return Object(i["x"])(),Object(i["g"])("div",s,[Object(i["k"])(O,{onLeft:t[0]||(t[0]=t=>e.config.disableDrawerSwipeGestures?void 0:e.swipedLeft()),onRight:t[1]||(t[1]=t=>e.config.disableDrawerSwipeGestures?void 0:e.swipedRight())}),Object(i["k"])(g,{drawer:e.drawer,fromLeft:e.drawerOnLeftSide,onHide:e.hideDrawer},null,8,["drawer","fromLeft","onHide"]),Object(i["R"])(Object(i["h"])("div",{class:Object(i["r"])(["app-bar",{reverseElements:!e.drawerOnLeftSide&&!e.config.backButtonInsteadOfDrawer}])},[Object(i["h"])("button",{onClick:t[2]||(t[2]=t=>e.config.backButtonInsteadOfDrawer?e.back(e.config.backButtonRoute):e.toggleDrawer()),class:"no-button-styling"},[(Object(i["x"])(),Object(i["g"])("svg",r,[Object(i["R"])(Object(i["h"])("line",c,null,512),[[i["O"],!e.config.backButtonInsteadOfDrawer]]),u,Object(i["R"])(Object(i["h"])("line",l,null,512),[[i["O"],!e.config.backButtonInsteadOfDrawer]]),Object(i["R"])(Object(i["h"])("line",d,null,512),[[i["O"],e.config.backButtonInsteadOfDrawer]]),Object(i["R"])(Object(i["h"])("line",m,null,512),[[i["O"],e.config.backButtonInsteadOfDrawer]])]))]),Object(i["h"])("div",h,[Object(i["h"])("div",b,Object(i["H"])(e.$t("nav.appTitle")),1)])],2),[[i["O"],!e.config.hideNavigationBar]])])}function O(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div")}Object(i["y"])();const g=10,j=1.5;var v=Object(i["l"])({name:"SwipeGestures",emits:["top","right","down","left"],data(){return{ongoingTouch:void 0}},mounted(){window.addEventListener("touchstart",this.handleStart),window.addEventListener("touchend",this.handleEnd),window.addEventListener("touchcancel",this.handleCancel)},beforeUnmount(){window.removeEventListener("touchstart",this.handleStart),window.removeEventListener("touchend",this.handleEnd),window.removeEventListener("touchcancel",this.handleCancel)},methods:{handleStart(e){this.ongoingTouch||(this.ongoingTouch=e.changedTouches[0])},handleMove(e){this.handleTouch(e,"move")},handleEnd(e){this.handleTouch(e,"end")},handleCancel(e){this.handleTouch(e,"cancel")},handleTouch(e,t){for(const n of e.changedTouches)if(this.ongoingTouch&&this.ongoingTouch.identifier===n.identifier){if("end"===t){const e=n.clientX-this.ongoingTouch.clientX,t=n.clientY-this.ongoingTouch.clientY;t<=-g&&-Math.abs(e)*j>=t?this.$emit("top"):e>=g&&Math.abs(t)*j<=e?this.$emit("right"):t>=g&&Math.abs(e)*j<=t?this.$emit("down"):e<=-g&&-Math.abs(t)*j>=e&&this.$emit("left")}"end"!==t&&"cancel"!==t||(this.ongoingTouch=void 0)}}}});v.render=O;var f=v;function w(e,t,n,o,a,s){const r=Object(i["F"])("navigation-drawer-app-icon"),c=Object(i["F"])("router-link");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("div",{class:Object(i["r"])(["modal",{active:e.drawer}])},null,2),Object(i["h"])("div",{class:Object(i["r"])(["drawer",{active:e.drawer,fromLeft:e.fromLeft}])},[Object(i["k"])(r),(Object(i["x"])(!0),Object(i["g"])(i["a"],null,Object(i["D"])(e.routes,t=>(Object(i["x"])(),Object(i["e"])(c,{key:t.path,to:t.path,tabindex:e.drawer?0:-1},{default:Object(i["Q"])(()=>[Object(i["j"])(Object(i["H"])(e.$t("nav.routeNames."+t.path)),1)]),_:2},1032,["to","tabindex"]))),128))],2)])}var S=n("6c02");function I(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,Object(i["H"])(e.$t("home.message")),1)}var R=Object(i["l"])({name:"Home"});R.render=I;var y=R;Object(i["A"])("data-v-1668439e");const T={class:"v-center"},k={class:"login-status"},$={key:0},x={key:1};function L(e,t,n,o,a,s){const r=Object(i["F"])("custom-text-input"),c=Object(i["F"])("checkmark-icon"),u=Object(i["F"])("warning-icon");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("headingLogin")),1),Object(i["h"])("form",{onSubmit:t[1]||(t[1]=Object(i["T"])(()=>{},["prevent"]))},[Object(i["k"])(r,{placeholder:e.tc("username"),initialValue:e.$store.state.settings.username,onchange:e.setSettingFunction("username")},null,8,["placeholder","initialValue","onchange"]),Object(i["k"])(r,{placeholder:e.tc("password"),type:"password",initialValue:e.$store.state.settings.password,onchange:e.setSettingFunction("password"),focusInput:e.focusPasswordInput},null,8,["placeholder","initialValue","onchange","focusInput"]),Object(i["h"])("div",T,[Object(i["h"])("button",{onClick:t[0]||(t[0]=(...t)=>e.tryLogin&&e.tryLogin(...t))},Object(i["H"])(e.tc("buttonLogin")),1)])],32),Object(i["h"])("div",k,[!0===e.$store.state.settings.loginStatus?(Object(i["x"])(),Object(i["g"])("div",$,[Object(i["k"])(c,{class:"large-icon shadow"})])):!1===e.$store.state.settings.loginStatus?(Object(i["x"])(),Object(i["g"])("div",x,[Object(i["k"])(u,{class:"large-icon shadow"})])):Object(i["f"])("",!0)])])}Object(i["y"])();const C={class:"input-section"},E=["type","id","placeholder"];function H(e,t,n,o,a,s){const r=Object(i["F"])("custom-label");return Object(i["x"])(),Object(i["g"])("div",C,[e.label?(Object(i["x"])(),Object(i["e"])(r,{key:0,text:e.label,forId:e.id},null,8,["text","forId"])):Object(i["f"])("",!0),Object(i["R"])(Object(i["h"])("input",{ref:"input",type:e.type,id:e.id,placeholder:e.placeholder,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,E),[[i["K"],e.value]])])}Object(i["A"])("data-v-211c225c");const A=["for"];function D(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("label",{for:e.forId,class:Object(i["r"])({bold:!1!==e.bold})},Object(i["H"])(e.text),11,A)}Object(i["y"])();var M=Object(i["l"])({name:"CustomLabel",props:{text:String,forId:String,bold:{type:Boolean,default:!0}}});n("94be");M.render=D,M.__scopeId="data-v-211c225c";var B=M,P=n("ec26"),N=Object(i["l"])({name:"CustomTextInput",props:{label:String,placeholder:String,type:{type:String,default:"text"},initialValue:String,onchange:{type:Function,default:()=>{}},focusInput:Boolean},components:{CustomLabel:B},data(){return{id:Object(P["a"])(),value:this.initialValue||""}},watch:{value(){this.onchange(this.value)},initialValue(){this.value=this.initialValue||""},focusInput(e){e&&this.$refs.input.focus()}}});N.render=H;var _=N;Object(i["A"])("data-v-ce5eb0ba");const F={viewBox:"0 0 30 30",class:"inline-svg-icon pointer-cursor"},V=Object(i["h"])("line",{x1:"7.5",y1:"17.1524",x2:"12.8475",y2:"22.5",stroke:"#0a0","stroke-width":"3","stroke-linecap":"round"},null,-1),U=Object(i["h"])("line",{x1:"12.8475",y1:"22.5",x2:"21.5",y2:"8.5",stroke:"#0a0","stroke-width":"3","stroke-linecap":"round"},null,-1),Q=[V,U];function J(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("svg",F,Q)}Object(i["y"])();var q=Object(i["l"])({name:"CheckmarkIcon"});n("4fb6");q.render=J,q.__scopeId="data-v-ce5eb0ba";var W=q;Object(i["A"])("data-v-6dfd98e7");const Y={viewBox:"0 0 100 100",class:"inline-svg-icon pointer-cursor"},G=Object(i["h"])("polygon",{points:"5,85 50,15 95,85 5,85",fill:"#dd5",stroke:"#dd5","stroke-width":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),z=Object(i["h"])("polyline",{points:"47,32 50,61 52,32 47,32",stroke:"#000",fill:"#000","stroke-width":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),K=Object(i["h"])("circle",{cx:"50",cy:"77",r:"6",fill:"#000"},null,-1),Z=[G,z,K];function X(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("svg",Y,Z)}Object(i["y"])();var ee=Object(i["l"])({name:"CheckmarkIcon"});n("8f78");ee.render=X,ee.__scopeId="data-v-6dfd98e7";var te=ee;const ne="/api/v1/login_required";var ie=Object(i["l"])({name:"Login",components:{CustomTextInput:_,CheckmarkIcon:W,WarningIcon:te},data(){return{focusPasswordInput:!1}},methods:{tc(e){return this.$t("login."+e)},setSettingFunction(e){return t=>{this.$store.commit("setSetting",{name:e,value:t}),this.$store.commit("setLoginStatus",null)}},tryLogin(){const{username:e,password:t}=this.$store.state.settings;if(!t)return this.focusPasswordInput=!0,void this.$nextTick(()=>this.focusPasswordInput=!1);fetch(`${this.$store.state.settings.submitHost}${ne}`,{method:"GET",credentials:"include",headers:{Authorization:"Basic "+btoa(e+":"+t)}}).then(async e=>{let t=await e.text();if(200!==e.status||"ok"!==t)throw t;this.$store.commit("setLoginStatus",!0)}).catch(e=>{console.log({msg:"failed",response:e.toString()}),this.$store.commit("setLoginStatus",!1)})}}});n("7ca2");ie.render=L,ie.__scopeId="data-v-1668439e";var oe=ie;function ae(e,t,n,o,a,s){const r=Object(i["F"])("router-view");return Object(i["x"])(),Object(i["e"])(r)}var se=Object(i["l"])({name:"Run",methods:{redirectToChildRouteIfNoneSet(){"/run"===this.$route.path&&this.$router.replace("/run/team")}},mounted(){this.redirectToChildRouteIfNoneSet()},updated(){this.redirectToChildRouteIfNoneSet()}});se.render=ae;var re=se;const ce={class:"v-center"};function ue(e,t,n,o,a,s){const r=Object(i["F"])("custom-select");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("runSetup")),1),Object(i["h"])("form",{onSubmit:t[0]||(t[0]=Object(i["T"])(()=>{},["prevent"]))},[Object(i["k"])(r,{label:e.tg("competition"),options:e.competitionOptions,initialValue:e.$store.state.currentRun.competition,onchange:t=>e.$store.commit("setCompetition",t)},null,8,["label","options","initialValue","onchange"]),Object(i["k"])(r,{label:e.tg("arena"),options:e.arenaOptions,initialValue:e.$store.state.currentRun.arenaId,onchange:t=>e.$store.commit("setArena",t)},null,8,["label","options","initialValue","onchange"]),Object(i["k"])(r,{label:e.tg("round"),options:e.roundOptions,initialValue:String(e.$store.state.currentRun.round),onchange:t=>e.$store.commit("setRound",Number(t))},null,8,["label","options","initialValue","onchange"])],32),Object(i["h"])("div",ce,[Object(i["h"])("button",{onClick:t[1]||(t[1]=(...t)=>e.continueToSelectTeam&&e.continueToSelectTeam(...t))},Object(i["H"])(e.tc("selectTeam")),1)])])}const le={class:"input-section"},de=["id"],me=["value"];function he(e,t,n,o,a,s){const r=Object(i["F"])("custom-label");return Object(i["x"])(),Object(i["g"])("div",le,[Object(i["k"])(r,{text:e.label,forId:e.id},null,8,["text","forId"]),Object(i["R"])(Object(i["h"])("select",{id:e.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},[(Object(i["x"])(!0),Object(i["g"])(i["a"],null,Object(i["D"])(e.opt,e=>(Object(i["x"])(),Object(i["g"])("option",{key:e.value,value:e.value},Object(i["H"])(e.text),9,me))),128))],8,de),[[i["M"],e.value]])])}var be=Object(i["l"])({name:"CustomSelect",props:{label:String,options:{type:Object},initialValue:String,onchange:{type:Function,default:()=>{}}},components:{CustomLabel:B},data(){return{id:Object(P["a"])(),value:this.initialValue||""}},computed:{opt(){return this.options?this.options.map(e=>"string"===typeof e?{text:e,value:e}:e):[]}},mounted(){1!==this.opt.length||(this.value=this.opt[0].value)},watch:{value(){this.onchange(this.value)},opt(){1!==this.opt.length?this.opt.find(e=>e.value===this.value)||(this.value=""):this.value=this.opt[0].value},initialValue(){this.value=this.initialValue||""}}});be.render=he;var pe=be;function Oe(e,t="hh:mm:ss (DD.MM.YYYY)"){return t.replace("hh",ge(e.getHours())).replace("mm",ge(e.getMinutes())).replace("ss",ge(e.getSeconds())).replace("DD",ge(e.getDate())).replace("MM",ge(e.getMonth()+1)).replace("YYYY",ge(e.getFullYear(),4))}function ge(e,t=2,n=0){return e=String(e),String(n).repeat(Math.max(0,t-e.length))+e}function je(e){const t={line:"Rescue Line","line-entry":"Rescue Line Entry"};return t[e]||e}function ve(e){return new Date(e+(e.match(/(\+|-)\d\d$/)?"00":""))}function fe(e){const t=Math.floor(e/60),n=Math.floor(e%60),i=t<10?t:t>15?"X":t.toString(16),o=(n<10?"0":"")+n;return i+":"+o}var we=Object(i["l"])({name:"Run1Setup",components:{CustomSelect:pe},computed:{competitionOptions(){return this.$store.state.schedule.competitions.map(e=>({text:je(e),value:e}))},arenaOptions(){const e=[];for(const t of this.$store.state.schedule.arenas)(this.$store.state.schedule.arenasByCompetition[this.$store.state.currentRun.competition||""]||[]).includes(t.arenaId)&&e.push({text:t.name,value:t.arenaId});return e},roundOptions(){return Array(this.$store.state.schedule.rounds).fill(1).map((e,t)=>({text:`${this.tg("round")} ${t+1}`,value:String(t+1)}))}},methods:{tc(e){return this.$t("run.setup."+e)},tg(e){return this.$t("general."+e)},continueToSelectTeam(){this.$store.state.currentRun.competition&&this.$store.state.currentRun.arenaId&&this.$store.state.currentRun.round&&this.$router.push("/run/team")}}});we.render=ue;var Se=we;const Ie={class:"v-center"};function Re(e,t,n,o,a,s){const r=Object(i["F"])("checkmark-icon"),c=Object(i["F"])("warning-icon"),u=Object(i["F"])("key-value-row"),l=Object(i["F"])("edit-icon"),d=Object(i["F"])("card"),m=Object(i["F"])("custom-select");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("runTeam")),1),Object(i["k"])(d,{title:e.tc("setup")},{default:Object(i["Q"])(()=>[Object(i["k"])(u,{name:e.tg("referee"),value:e.$store.state.settings.username},{value:Object(i["Q"])(()=>[e.$store.state.settings.loginStatus?(Object(i["x"])(),Object(i["e"])(r,{key:0})):(Object(i["x"])(),Object(i["e"])(c,{key:1,onClick:e.goToLogin},null,8,["onClick"]))]),_:1},8,["name","value"]),Object(i["k"])(u,{name:e.tg("competition"),value:e.competitionName},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToSetup},null,8,["onClick"])]),_:1},8,["name","value"]),Object(i["k"])(u,{name:e.tg("arena"),value:`${e.tg("arena")} ${e.$store.state.currentRun.arenaId}`},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToSetup},null,8,["onClick"])]),_:1},8,["name","value"]),Object(i["k"])(u,{name:e.tg("round"),value:`${e.tg("round")} ${e.$store.state.currentRun.round}`},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToSetup},null,8,["onClick"])]),_:1},8,["name","value"])]),_:1},8,["title"]),Object(i["h"])("form",{onSubmit:t[0]||(t[0]=Object(i["T"])(()=>{},["prevent"]))},[Object(i["k"])(m,{label:e.tc("team"),options:e.teamOptions,initialValue:e.$store.state.currentRun.teamId,onchange:t=>e.setTeam(t)},null,8,["label","options","initialValue","onchange"])],32),Object(i["h"])("div",Ie,[Object(i["h"])("button",{onClick:t[1]||(t[1]=(...t)=>e.continueToPreRun&&e.continueToPreRun(...t))},Object(i["H"])(e.tc("continueToPreRun")),1)])])}Object(i["A"])("data-v-94f0d942");const ye={class:"key-value-container input-section"},Te={class:"key-value-item"},ke={class:"key-value-item"};function $e(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",ye,[Object(i["h"])("div",Te,Object(i["H"])(e.name),1),Object(i["h"])("div",ke,[Object(i["j"])(Object(i["H"])(e.value)+" ",1),Object(i["E"])(e.$slots,"value",{},void 0,!0)])])}Object(i["y"])();var xe=Object(i["l"])({name:"KeyValueRow",props:{name:String,value:String}});n("ecaf");xe.render=$e,xe.__scopeId="data-v-94f0d942";var Le=xe;Object(i["A"])("data-v-12578dc0");const Ce={class:"card"};function Ee(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",Ce,[Object(i["h"])("h2",null,Object(i["H"])(e.title),1),Object(i["E"])(e.$slots,"default",{},void 0,!0)])}Object(i["y"])();var He=Object(i["l"])({name:"Card",props:{title:String}});n("7199");He.render=Ee,He.__scopeId="data-v-12578dc0";var Ae=He;const De={viewBox:"0 0 100 100",class:"inline-svg-icon pointer-cursor"},Me=Object(i["h"])("g",{transform:"rotate(45 50 50)"},[Object(i["h"])("rect",{x:"37.5",y:"-5",width:"25",height:"17.5",fill:"var(--text-color2)"}),Object(i["h"])("rect",{x:"37.5",y:"20",width:"25",height:"62.5",fill:"var(--text-color2)"}),Object(i["h"])("polygon",{points:"37.5,90 62.5,90 50,115",fill:"var(--text-color2)"})],-1),Be=[Me];function Pe(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("svg",De,Be)}var Ne=Object(i["l"])({name:"EditIcon"});Ne.render=Pe;var _e=Ne,Fe=Object(i["l"])({name:"Run2Team",components:{CustomSelect:pe,KeyValueRow:Le,Card:Ae,EditIcon:_e,CheckmarkIcon:W,WarningIcon:te},data(){return{}},computed:{teamOptions(){const e=[];for(const t of this.$store.state.schedule.runs)t.competition===this.$store.state.currentRun.competition&&t.arenaId===this.$store.state.currentRun.arenaId&&t.round===this.$store.state.currentRun.round&&e.push({...t,parsedTime:ve(t.time).getTime(),teamname:(this.$store.state.schedule.teams.find(e=>e.teamId===t.teamId)||{name:""}).name});return e.sort((e,t)=>e.parsedTime-t.parsedTime),e.map(e=>({text:Oe(new Date(e.parsedTime),"hh:mm")+" "+e.teamname,value:e.teamId}))},competitionName(){return je(this.$store.state.currentRun.competition||"")}},methods:{tc(e){return this.$t("run.team."+e)},tg(e){return this.$t("general."+e)},getNavigationBarConfig(){return{disableDrawerSwipeGestures:!1,backButtonInsteadOfDrawer:!1}},backToSetup(){this.$router.push("/run/setup")},goToLogin(){this.$router.push("/login")},setTeam(e){this.$store.commit("setTeam",e)},continueToPreRun(){this.$store.state.currentRun.competition&&this.$store.state.currentRun.arenaId&&this.$store.state.currentRun.round&&this.$store.state.currentRun.teamId&&this.$router.push("/run/prerun")}},mounted(){this.$store.state.currentRun.competition&&this.$store.state.currentRun.arenaId&&this.$store.state.currentRun.round||this.$router.push("/run/setup")}});Fe.render=Re;var Ve=Fe;Object(i["A"])("data-v-0dc01fe0");const Ue={id:"evacuation-point-selection"},Qe=["disabled"],Je=Object(i["j"])("  "),qe=["disabled"],We={class:"v-center"},Ye={class:"box-time"},Ge={class:"v-center"};function ze(e,t,n,o,a,s){const r=Object(i["F"])("checkmark-icon"),c=Object(i["F"])("warning-icon"),u=Object(i["F"])("key-value-row"),l=Object(i["F"])("edit-icon"),d=Object(i["F"])("card"),m=Object(i["F"])("custom-label"),h=Object(i["F"])("run-time"),b=Object(i["F"])("time-toggle-button"),p=Object(i["F"])("set-time-button");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("runPreRun")),1),Object(i["k"])(d,{title:e.tc("teamSetup")},{default:Object(i["Q"])(()=>[Object(i["k"])(u,{name:e.tg("referee"),value:e.$store.state.settings.username},{value:Object(i["Q"])(()=>[e.$store.state.settings.loginStatus?(Object(i["x"])(),Object(i["e"])(r,{key:0})):(Object(i["x"])(),Object(i["e"])(c,{key:1,onClick:e.goToLogin},null,8,["onClick"]))]),_:1},8,["name","value"]),Object(i["k"])(u,{name:e.tg("competition"),value:e.competitionName},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToSetup},null,8,["onClick"])]),_:1},8,["name","value"]),Object(i["k"])(u,{name:`${e.tg("arena")} & ${e.tg("round")}`,value:`${e.tg("arena")} ${e.$store.state.currentRun.arenaId}, ${e.tg("round")} ${e.$store.state.currentRun.round}`},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToSetup},null,8,["onClick"])]),_:1},8,["name","value"]),Object(i["k"])(u,{name:e.tg("team"),value:(e.$store.state.schedule.teams.find(t=>t.teamId===e.$store.state.currentRun.teamId)||{name:""}).name},{value:Object(i["Q"])(()=>[Object(i["k"])(l,{onClick:e.backToTeamSelection},null,8,["onClick"])]),_:1},8,["name","value"])]),_:1},8,["title"]),Object(i["h"])("form",{onSubmit:t[2]||(t[2]=Object(i["T"])(()=>{},["prevent"]))},[Object(i["k"])(m,{text:e.tg("evacuationPoint")},null,8,["text"]),Object(i["h"])("div",Ue,[Object(i["h"])("label",null,[Object(i["R"])(Object(i["h"])("input",{type:"radio",name:"evacuation-point",id:"evacuation-point-low","onUpdate:modelValue":t[0]||(t[0]=t=>e.vEvacuationPoint=t),value:"low",disabled:"line-entry"===e.$store.state.currentRun.competition},null,8,Qe),[[i["L"],e.vEvacuationPoint]]),Object(i["j"])(" "+Object(i["H"])(e.tg("epLow")),1)]),Je,Object(i["h"])("label",null,[Object(i["R"])(Object(i["h"])("input",{type:"radio",name:"evacuation-point",id:"evacuation-point-high","onUpdate:modelValue":t[1]||(t[1]=t=>e.vEvacuationPoint=t),value:"high",disabled:"line-entry"===e.$store.state.currentRun.competition},null,8,qe),[[i["L"],e.vEvacuationPoint]]),Object(i["j"])(" "+Object(i["H"])(e.tg("epHigh")),1)])])],32),Object(i["h"])("label",We,[Object(i["R"])(Object(i["h"])("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=t=>e.vTeamShowedUp=t)},null,512),[[i["J"],e.vTeamShowedUp]]),Object(i["j"])(" "+Object(i["H"])(e.tc("teamShowedUp")),1)]),Object(i["h"])("div",Ye,[Object(i["h"])("div",null,[Object(i["k"])(h,{class:"time"})]),Object(i["h"])("div",null,[Object(i["k"])(b,{style:{width:"16vw","max-width":"200px","max-height":"30vh"}})]),Object(i["h"])("div",null,[Object(i["k"])(p)])]),Object(i["h"])("div",Ge,[Object(i["h"])("button",{onClick:t[4]||(t[4]=(...t)=>e.continueToRun&&e.continueToRun(...t))},Object(i["H"])(e.tc("continueToRun")),1)])])}function Ke(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("span",null,Object(i["H"])(e.timeStr),1)}Object(i["y"])();var Ze=n("1344");const Xe=Object(Ze["a"])(),et=50;var tt=Object(i["l"])({name:"RunTime",props:{showRemainingTime:{default:!1}},data(){return{timeStr:"-:--",autoUpdatingIntervalId:null}},mounted(){this.$store.getters.isTimeRunning&&this.startAutoUpdatingTime(),Xe.on("started-time",this.startAutoUpdatingTime),Xe.on("paused-time",this.stopAutoUpdatingTime),Xe.on("updated-time",this.updateTime),this.updateTime()},methods:{startAutoUpdatingTime(){null===this.autoUpdatingIntervalId&&(this.autoUpdatingIntervalId=setInterval(this.updateTime,et))},stopAutoUpdatingTime(){null!==this.autoUpdatingIntervalId&&(clearInterval(this.autoUpdatingIntervalId),this.autoUpdatingIntervalId=null,this.updateTime())},updateTime(){this.timeStr=this.showRemainingTime?this.$store.getters.remainingRunTimeAsString:this.$store.getters.runTimeAsString}}});tt.render=Ke;var nt=tt,it=n("644b"),ot=n.n(it),at=n("5246"),st=n.n(at);function rt(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["R"])(Object(i["h"])("img",{src:ot.a,style:Object(i["s"])(e.style),onClick:t[0]||(t[0]=(...t)=>e.toggleTime&&e.toggleTime(...t))},null,4),[[i["O"],e.$store.getters.isTimeRunning]]),Object(i["R"])(Object(i["h"])("img",{src:st.a,style:Object(i["s"])(e.style),onClick:t[1]||(t[1]=(...t)=>e.toggleTime&&e.toggleTime(...t))},null,4),[[i["O"],!e.$store.getters.isTimeRunning]])])}function ct(e,t){const n=e.schedule.teams.find(t=>t.teamId===e.run.teamId);try{if(!e.schedule.competitions.includes(e.run.competition||""))throw new Error("Invalid value for competition");if(!n)throw new Error("No teamname found for this team ID");if(void 0===e.run.round)throw new Error("Round must not be undefined");if(void 0===e.run.arenaId)throw new Error("ArenaId must not be undefined")}catch(l){const n={runHistoryId:Object(P["a"])(),run:dt(e.run),score:0,time:0,url:"",unixTimestamp:Math.floor(Date.now()/1e3),status:"failed",error:`Internal Error: Didn't even send run (${l.message})`};return t("addEntryToRunHistory",n),t("resetCurrentRun"),{details:{requestLength:0},promise:new Promise(e=>{e()})}}const i=ut(e.run.scoring),o=Math.floor(e.run.time.timeOffset),a={only_testing:!0,referee:{name:e.settings.username,auth:e.settings.password},competition:e.settings.submitEvent+"-"+e.run.competition,teamname:n.name,round:e.run.round,arena:e.run.arenaId,time_duration:o,time_start:e.run.time.timestampRunStart||0,time_end:e.run.time.timestampRunEnd||0,scoring:{teamStarted:e.run.scoring.teamStarted,evacuationPoint:e.run.scoring.evacuationPoint||"",score:i},comments:"",complaints:"",confirmed:!0},s=JSON.stringify(a).length;let r;const c=new Promise(e=>r=e),u=`${e.settings.submitHost}${e.settings.submitPath}`;return fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(a.referee.name+":"+a.referee.auth)},body:JSON.stringify(a)}).then(async n=>{const a=await n.text();if(200!==n.status&&201!==n.status)throw a;{console.log("successfully submitted run",a);const n={runHistoryId:Object(P["a"])(),run:dt(e.run),score:i,time:o,url:u,unixTimestamp:Math.floor(Date.now()/1e3),status:"successful"};t("addEntryToRunHistory",n),t("resetCurrentRun"),r()}}).catch(n=>{console.log({msg:"failed to submit run",response:n.toString()});const a={runHistoryId:Object(P["a"])(),run:dt(e.run),score:i,time:o,url:u,unixTimestamp:Math.floor(Date.now()/1e3),status:"failed",error:n.toString()};t("addEntryToRunHistory",a),t("resetCurrentRun"),r()}),{details:{requestLength:s},promise:c}}function ut(e){return e.teamStarted?5:0}function lt(e){try{const t=e.settings.submitHost+"/api/v1/run_started";fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa(e.settings.username+":"+e.settings.password)},body:JSON.stringify({run:{competition:e.settings.submitEvent+"-"+e.run.competition,arenaId:e.run.arenaId,round:e.run.round,teamId:e.run.teamId}})})}catch(t){console.log({msg:"failed to send run_started event",response:t.toString()})}}function dt(e){return JSON.parse(JSON.stringify(e))}var mt=Object(i["l"])({name:"TimeToggleButton",props:{style:Object},methods:{toggleTime(){this.$store.getters.isTimeRunning||null!==this.$store.state.currentRun.time.timestampRunStart||lt({settings:this.$store.state.settings,run:this.$store.state.currentRun}),this.$store.commit("toggleTime")}}});mt.render=rt;var ht=mt;Object(i["A"])("data-v-a7b6c7dc");const bt=Object(i["j"])(" Original Time: "),pt={style:{display:"flex","justify-content":"flex-end"}};function Ot(e,t,n,o,a,s){const r=Object(i["F"])("run-time"),c=Object(i["F"])("time-picker"),u=Object(i["F"])("modal");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("button",{id:"btn-set-time",onClick:t[0]||(t[0]=(...t)=>e.openSetTimeModal&&e.openSetTimeModal(...t))},Object(i["H"])(e.tg("buttonSetTime")),1),Object(i["k"])(u,{title:e.tg("buttonSetTime"),showModal:e.showSetTimeModal,onHide:e.closeSetTimeModal,options:{hideOnClickOutside:!1}},{default:Object(i["Q"])(()=>[bt,Object(i["k"])(r),Object(i["k"])(c,{isShown:e.showSetTimeModal,onSetTimeInSeconds:t[1]||(t[1]=t=>e.timeSetInModal=t)},null,8,["isShown"]),Object(i["h"])("div",pt,[Object(i["h"])("button",{class:"fg-btn",onClick:t[2]||(t[2]=(...t)=>e.closeSetTimeModal&&e.closeSetTimeModal(...t))},Object(i["H"])(e.tg("cancel")),1),Object(i["h"])("button",{class:"fg-btn",onClick:t[3]||(t[3]=(...t)=>e.saveTime&&e.saveTime(...t))},Object(i["H"])(e.tg("save")),1)])]),_:1},8,["title","showModal","onHide"])])}function gt(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("div",{class:Object(i["r"])(["bg",{active:e.showModal}])},null,2),Object(i["h"])("div",{class:Object(i["r"])(["modal",{active:e.showModal}])},[Object(i["h"])("h2",null,Object(i["H"])(e.title),1),Object(i["E"])(e.$slots,"default",{},void 0,!0)],2)])}Object(i["y"])();const jt=[];function vt(e){jt.push(e)}function ft(e){const t=jt.indexOf(e);t>-1&&jt.splice(t,1)}function wt(e,t,n){if(jt.length>0){n(!1);for(const e of jt)e()}else n()}var St=Object(i["l"])({name:"Modal",props:{showModal:Boolean,title:String,options:{default:{hideOnEscapeKey:!0,hideOnClickOutside:!0,hideOnBrowserBackButton:!0}}},emits:["hide"],methods:{registerEventListenersAndPreventRoutingWhenModalIsShown(){window.addEventListener("click",this.onClick),window.addEventListener("keydown",this.hideDrawerOnEscape),vt(this.preventRoutingCallback)},unregisterEventListenersAndAllowRoutingWhenModalIsHidden(){window.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.hideDrawerOnEscape),ft(this.preventRoutingCallback)},onClick(e){if(!1===this.options.hideOnClickOutside)return;const t=e.target;t.classList.contains("bg")&&this.$emit("hide")},hideDrawerOnEscape(e){!1!==this.options.hideOnEscapeKey&&"Escape"===e.key&&this.$emit("hide")},preventRoutingCallback(){!1!==this.options.hideOnBrowserBackButton&&this.$emit("hide")}},mounted(){this.showModal&&this.registerEventListenersAndPreventRoutingWhenModalIsShown()},watch:{showModal(){this.showModal?this.registerEventListenersAndPreventRoutingWhenModalIsShown():this.unregisterEventListenersAndAllowRoutingWhenModalIsHidden()}}});n("36fa");St.render=gt,St.__scopeId="data-v-f4d1c5b4";var It=St;Object(i["A"])("data-v-a13d3ef8");const Rt={style:{"text-align":"center","margin-bottom":"2vw"}},yt={class:"time-input-box"},Tt={class:"time-input-box"};function kt(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",Rt,[Object(i["h"])("div",yt,[Object(i["h"])("div",{class:"pointer-cursor",onClick:t[0]||(t[0]=(...t)=>e.minutesPlus&&e.minutesPlus(...t))},"+"),Object(i["h"])("div",null,[Object(i["R"])(Object(i["h"])("input",{type:"text",inputmode:"numeric",class:"number-input-no-spinner","onUpdate:modelValue":t[1]||(t[1]=t=>e.minutesStr=t),onInput:t[2]||(t[2]=(...t)=>e.validateInputMinutes&&e.validateInputMinutes(...t)),onChange:t[3]||(t[3]=(...t)=>e.updateMinutesAndSeconds&&e.updateMinutesAndSeconds(...t)),onKeydown:[t[4]||(t[4]=Object(i["S"])((...t)=>e.minutesPlus&&e.minutesPlus(...t),["up"])),t[5]||(t[5]=Object(i["S"])((...t)=>e.minutesMinus&&e.minutesMinus(...t),["down"]))]},null,544),[[i["N"],e.minutesStr]])]),Object(i["h"])("div",{class:"pointer-cursor",onClick:t[6]||(t[6]=(...t)=>e.minutesMinus&&e.minutesMinus(...t))},"-")]),Object(i["h"])("div",Tt,[Object(i["h"])("div",{class:"pointer-cursor",onClick:t[7]||(t[7]=(...t)=>e.secondsPlus&&e.secondsPlus(...t))},"+"),Object(i["h"])("div",null,[Object(i["R"])(Object(i["h"])("input",{type:"text",inputmode:"numeric",class:"number-input-no-spinner","onUpdate:modelValue":t[8]||(t[8]=t=>e.secondsStr=t),onInput:t[9]||(t[9]=(...t)=>e.validateInputSeconds&&e.validateInputSeconds(...t)),onChange:t[10]||(t[10]=(...t)=>e.updateMinutesAndSeconds&&e.updateMinutesAndSeconds(...t)),onKeydown:[t[11]||(t[11]=Object(i["S"])((...t)=>e.secondsPlus&&e.secondsPlus(...t),["up"])),t[12]||(t[12]=Object(i["S"])((...t)=>e.secondsMinus&&e.secondsMinus(...t),["down"]))]},null,544),[[i["N"],e.secondsStr]])]),Object(i["h"])("div",{class:"pointer-cursor",onClick:t[13]||(t[13]=(...t)=>e.secondsMinus&&e.secondsMinus(...t))},"-")])])}Object(i["y"])();const $t="0123456789";var xt=Object(i["l"])({name:"TimePicker",emits:["setTimeInSeconds"],props:{isShown:Boolean},data(){return{minutesStr:"00",secondsStr:"00",minutes:0,seconds:0}},watch:{isShown(){this.isShown&&this.initFromRunTime()}},methods:{initFromRunTime(){const e=this.$store.getters.runTime;this.minutes=Math.floor(e/60),this.seconds=Math.floor(e%60),this.updateMinutesAndSecondsStr()},validateInputMinutes(e){this.preventNonNumberInput("minutesStr",e)},validateInputSeconds(e){this.preventNonNumberInput("secondsStr",e)},preventNonNumberInput(e,t){if("insertText"===t.inputType&&!$t.includes(t.data||"")){let t="";for(const n of this[e])$t.includes(n)&&(t+=n);this[e]=t}},updateMinutesAndSeconds(){this.minutes=Number(this.minutesStr),this.seconds=Number(this.secondsStr),this.updateMinutesAndSecondsStr()},updateMinutesAndSecondsStr(){this.validateMinutesAndSeconds(),this.minutesStr=ge(this.minutes,2,"0"),this.secondsStr=ge(this.seconds,2,"0")},validateMinutesAndSeconds(){this.seconds>59?(this.minutes+=Math.floor(this.seconds/60),this.seconds=this.seconds%60):this.seconds<0&&(this.minutes-=1,this.seconds+=60),this.minutes>=8?(this.minutes=8,this.seconds=0):this.minutes<0&&(this.minutes=0,this.seconds=0),this.$emit("setTimeInSeconds",60*this.minutes+this.seconds)},minutesPlus(){this.minutes++,this.updateMinutesAndSecondsStr()},minutesMinus(){this.minutes--,this.updateMinutesAndSecondsStr()},secondsPlus(){this.seconds++,this.updateMinutesAndSecondsStr()},secondsMinus(){this.seconds--,this.updateMinutesAndSecondsStr()}}});n("34ad");xt.render=kt,xt.__scopeId="data-v-a13d3ef8";var Lt=xt,Ct=Object(i["l"])({name:"SetTimeButton",components:{Modal:It,RunTime:nt,TimePicker:Lt},data(){return{showSetTimeModal:!1,timeSetInModal:0}},methods:{tg(e){return this.$t("general."+e)},openSetTimeModal(){this.showSetTimeModal=!0},closeSetTimeModal(){this.showSetTimeModal=!1},saveTime(){this.$store.commit("setTime",this.timeSetInModal),this.closeSetTimeModal()}}});n("18c1");Ct.render=Ot,Ct.__scopeId="data-v-a7b6c7dc";var Et=Ct,Ht=Object(i["l"])({name:"Run3PreRun",components:{CustomLabel:B,KeyValueRow:Le,Card:Ae,EditIcon:_e,CheckmarkIcon:W,WarningIcon:te,RunTime:nt,TimeToggleButton:ht,SetTimeButton:Et},data(){return{vEvacuationPoint:"",vTeamShowedUp:!1}},computed:{selectedEvacuationPoint(){return"low"===this.$store.state.currentRun.scoring.evacuationPoint?this.tg("epLow"):"high"===this.$store.state.currentRun.scoring.evacuationPoint?this.tg("epHigh"):"?"},competitionName(){return je(this.$store.state.currentRun.competition||"")}},methods:{tc(e){return this.$t("run.preRun."+e)},tg(e){return this.$t("general."+e)},getNavigationBarConfig(){return{disableDrawerSwipeGestures:!0,backButtonInsteadOfDrawer:!0,backButtonRoute:"/run/team"}},goToLogin(){this.$router.push("/login")},backToSetup(){this.$router.push("/run/setup")},backToTeamSelection(){this.$router.push("/run/team")},continueToRun(){this.$router.push("/run/run")}},mounted(){this.$store.state.currentRun.competition&&this.$store.state.currentRun.arenaId&&this.$store.state.currentRun.round&&this.$store.state.currentRun.teamId||this.$router.push("/run/team"),"line-entry"===this.$store.state.currentRun.competition&&this.$store.commit("setEvacuationPoint","low"),this.vEvacuationPoint=this.$store.state.currentRun.scoring.evacuationPoint||"",this.vTeamShowedUp=this.$store.state.currentRun.scoring.teamStarted},watch:{vEvacuationPoint(e){this.$store.commit("setEvacuationPoint",e)},vTeamShowedUp(e){this.$store.commit("setTeamStarted",e)}}});n("5479");Ht.render=ze,Ht.__scopeId="data-v-0dc01fe0";var At=Ht;Object(i["A"])("data-v-61ab3845");const Dt={class:"fullscreen-app-content"},Mt=Object(i["j"])(" run inputs like in previous version "),Bt=Object(i["h"])("br",null,null,-1),Pt=Object(i["j"])(", remaining: "),Nt=Object(i["j"])("prev"),_t=Object(i["j"])("  "),Ft=Object(i["j"])("next");function Vt(e,t,n,o,a,s){const r=Object(i["F"])("run-time"),c=Object(i["F"])("time-toggle-button"),u=Object(i["F"])("router-link");return Object(i["x"])(),Object(i["g"])("div",Dt,[Mt,Bt,Object(i["h"])("div",null,[Object(i["k"])(r),Pt,Object(i["k"])(r,{showRemainingTime:!0})]),Object(i["h"])("div",null,[Object(i["k"])(c)]),Object(i["k"])(u,{to:"/run/prerun"},{default:Object(i["Q"])(()=>[Nt]),_:1}),_t,Object(i["k"])(u,{to:"/run/postrun"},{default:Object(i["Q"])(()=>[Ft]),_:1})])}Object(i["y"])();var Ut=Object(i["l"])({name:"Run4Run",components:{RunTime:nt,TimeToggleButton:ht},methods:{getNavigationBarConfig(){return{hideNavigationBar:!0,disableDrawerSwipeGestures:!0}}}});n("0a8d");Ut.render=Vt,Ut.__scopeId="data-v-61ab3845";var Qt=Ut;const Jt=Object(i["j"])(" victims, rescue kit, exit bonus (if not yet handled in previous screen) evacuation point? "),qt=Object(i["j"])("Review");function Wt(e,t,n,o,a,s){const r=Object(i["F"])("router-link");return Object(i["x"])(),Object(i["g"])("div",null,[Jt,Object(i["k"])(r,{to:"/run/review"},{default:Object(i["Q"])(()=>[qt]),_:1})])}var Yt=Object(i["l"])({name:"Run5PostRun",methods:{getNavigationBarConfig(){return{disableDrawerSwipeGestures:!0,backButtonInsteadOfDrawer:!0,backButtonRoute:"/run/run"}}}});Yt.render=Wt;var Gt=Yt;function zt(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("div",null,Object(i["H"])(e.tc("review")),1),Object(i["h"])("p",null,Object(i["H"])(e.$store.state.currentRun),1),Object(i["h"])("button",{onClick:t[0]||(t[0]=(...t)=>e.submit&&e.submit(...t))},Object(i["H"])(e.tc("submit")),1)])}var Kt=Object(i["l"])({name:"Run6Review",methods:{tc(e){return this.$t("run.review."+e)},getNavigationBarConfig(){return{disableDrawerSwipeGestures:!0,backButtonInsteadOfDrawer:!0,backButtonRoute:"/run/postrun"}},submit(){const{details:e,promise:t}=ct({settings:this.$store.state.settings,run:this.$store.state.currentRun,schedule:this.$store.state.schedule},this.$store.commit);Xe.emit("loader-start",`${this.tc("submittingRun")} (~ ${e.requestLength} B)`);const n=(new Date).getTime();function i(){const e=Math.max(0,666-((new Date).getTime()-n));setTimeout(()=>{Xe.emit("loader-finish")},e)}t.then(()=>{i(),this.$router.push("/run/submitresult")})}}});Kt.render=zt;var Zt=Kt;const Xt=Object(i["j"])("  ");function en(e,t,n,o,a,s){const r=Object(i["F"])("router-link");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("div",null,Object(i["H"])(e.tc("submitResult")),1),Object(i["h"])("p",null,Object(i["H"])(e.submitResult.status)+" "+Object(i["H"])(e.submitResult.error),1),Object(i["k"])(r,{to:"/run/team"},{default:Object(i["Q"])(()=>[Object(i["j"])(Object(i["H"])(e.tc("newRun")),1)]),_:1}),Xt,Object(i["k"])(r,{to:"/runhistory"},{default:Object(i["Q"])(()=>[Object(i["j"])(Object(i["H"])(e.tc("runHistory")),1)]),_:1})])}var tn=Object(i["l"])({name:"Run7SubmitResult",methods:{tc(e){return this.$t("run.submitResult."+e)}},computed:{submitResult(){if(0===this.$store.state.runHistory.entries.length)return{status:"failed",error:"Internal Error: No data found to display here"};const e=this.$store.state.runHistory.entries[this.$store.state.runHistory.entries.length-1];return{status:e.status,error:e.error}}},mounted(){this.$watch(()=>this.$route,e=>{"/run/review"===e.path&&this.$router.go(1)})}});tn.render=en;var nn=tn;const on={class:"input-section"},an=["value"],sn={class:"input-section"},rn={class:"v-center"},cn={class:"v-center"};function un(e,t,n,o,a,s){const r=Object(i["F"])("custom-label"),c=Object(i["F"])("custom-switch"),u=Object(i["F"])("custom-select"),l=Object(i["F"])("card"),d=Object(i["F"])("key-value-row"),m=Object(i["F"])("custom-text-input"),h=Object(i["F"])("about-card-content");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("settings")),1),Object(i["k"])(l,{title:e.tc("app")},{default:Object(i["Q"])(()=>[Object(i["h"])("div",on,[Object(i["k"])(r,{text:e.tc("language")+" 🌍",forId:"locale-selector"},null,8,["text"]),Object(i["R"])(Object(i["h"])("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$i18n.locale=t),id:"locale-selector"},[(Object(i["x"])(!0),Object(i["g"])(i["a"],null,Object(i["D"])(e.$i18n.availableLocales,t=>(Object(i["x"])(),Object(i["g"])("option",{key:"locale-"+t,value:t},Object(i["H"])(e.getLocaleOptionName(t)),9,an))),128))],512),[[i["M"],e.$i18n.locale]])]),Object(i["h"])("div",sn,[Object(i["k"])(r,{text:e.tc("drawer")},null,8,["text"]),Object(i["k"])(c,{label:e.tc("drawerOnRightText"),onSwitchInput:e.onInputDrawerPosition,initialValue:e.switchDrawerOnRight},null,8,["label","onSwitchInput","initialValue"])]),Object(i["k"])(u,{label:e.tc("theme"),options:e.colorThemeOptions,initialValue:e.$store.state.settings.theme,onchange:e.setSettingFunction("theme")},null,8,["label","options","initialValue","onchange"])]),_:1},8,["title"]),Object(i["k"])(l,{title:e.tc("scheduleData")},{default:Object(i["Q"])(()=>[Object(i["k"])(d,{name:e.tc("scheduleLastUpdated"),value:e.scheduleLastUpdateTime},null,8,["name","value"]),Object(i["k"])(d,{name:e.tc("scheduleArenas"),value:e.displayArrayValues(e.$store.state.schedule.arenas.map(e=>e.name))},null,8,["name","value"]),Object(i["k"])(d,{name:e.tc("scheduleRounds"),value:String(e.$store.state.schedule.rounds)},null,8,["name","value"]),Object(i["k"])(d,{name:e.tc("scheduleCompetitions"),value:e.displayArrayValues(e.$store.state.schedule.competitions)},null,8,["name","value"]),Object(i["k"])(d,{name:e.tc("scheduleTeams"),value:e.scheduleTeamsPerCompetition},null,8,["name","value"]),Object(i["k"])(d,{name:e.tc("scheduleRuns"),value:String(e.$store.state.schedule.runs.length)},null,8,["name","value"]),Object(i["h"])("div",rn,[Object(i["h"])("button",{onClick:t[1]||(t[1]=(...t)=>e.updateScheduleData&&e.updateScheduleData(...t))},Object(i["H"])(e.tc("checkForScheduleUpdates")),1)])]),_:1},8,["title"]),Object(i["k"])(l,{title:e.tc("runSubmission")},{default:Object(i["Q"])(()=>[Object(i["h"])("form",{onSubmit:t[2]||(t[2]=Object(i["T"])(()=>{},["prevent"]))},[Object(i["k"])(m,{label:e.tc("event"),initialValue:e.$store.state.settings.submitEvent,onchange:e.setSettingFunction("submitEvent")},null,8,["label","initialValue","onchange"]),Object(i["k"])(m,{label:e.tc("submitHost"),initialValue:e.$store.state.settings.submitHost,onchange:e.setSettingFunction("submitHost")},null,8,["label","initialValue","onchange"]),Object(i["k"])(m,{label:e.tc("submitPath"),initialValue:e.$store.state.settings.submitPath,onchange:e.setSettingFunction("submitPath")},null,8,["label","initialValue","onchange"])],32),Object(i["h"])("div",cn,[Object(i["h"])("button",{onClick:t[3]||(t[3]=t=>e.$store.commit("restoreAPIDefaults"))},Object(i["H"])(e.tc("submitRestoreDefaults")),1),Object(i["h"])("button",null,Object(i["H"])(e.tc("submitSaveSettings")),1)])]),_:1},8,["title"]),Object(i["k"])(l,{title:e.tc("about")},{default:Object(i["Q"])(()=>[Object(i["k"])(h)]),_:1},8,["title"])])}n("13d5");Object(i["A"])("data-v-2ae16a0a");const ln={class:"custom-switch input-section"},dn={class:"switch"},mn=["id"],hn=Object(i["h"])("span",{class:"slider round"},null,-1);function bn(e,t,n,o,a,s){const r=Object(i["F"])("custom-label");return Object(i["x"])(),Object(i["g"])("div",ln,[Object(i["k"])(r,{text:e.label,forId:e.id,style:{cursor:"pointer"},bold:!1},null,8,["text","forId"]),Object(i["h"])("div",null,[Object(i["h"])("label",dn,[Object(i["R"])(Object(i["h"])("input",{type:"checkbox",id:e.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t)},null,8,mn),[[i["J"],e.value]]),hn])])])}Object(i["y"])();var pn=Object(i["l"])({name:"CustomSwitch",props:{label:String,initialValue:{type:Boolean,default:!1}},components:{CustomLabel:B},emits:["switch-input"],data(){return{value:this.initialValue,id:Object(P["a"])()}},watch:{value(){this.$emit("switch-input",this.value)}}});n("03b7");pn.render=bn,pn.__scopeId="data-v-2ae16a0a";var On=pn;Object(i["A"])("data-v-5911c9c0");const gn=Object(i["h"])("p",null,[Object(i["h"])("a",{href:"https://github.com/rcjberlin/rcj-dss",target:"_blank"},"github.com/rcjberlin/rcj-dss")],-1);function jn(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("p",null,"© "+Object(i["H"])((new Date).getFullYear())+" Niko Lockenvitz",1),gn,Object(i["h"])("p",null,"Version: "+Object(i["H"])(e.versionString),1)])}Object(i["y"])();const vn=new Promise((e,t)=>{fetch("./version.txt").then(e=>e.text()).then(t=>{const n="VERSION ";if(!t.startsWith(n))throw new Error("Unexpected version string");e(t.substring(n.length).trim())}).catch(e=>t(e))});var fn=Object(i["l"])({name:"AboutCardContent",data(){return{versionString:"???"}},mounted(){vn.then(e=>this.versionString=e).catch(()=>this.versionString="???")}});n("c1d4");fn.render=jn,fn.__scopeId="data-v-5911c9c0";var wn=fn;const Sn=["system","light","dark"];var In=n("95e5"),Rn=n("6ce2"),yn=n("edd4"),Tn={de:Rn,en:yn};const kn=Tn;var $n=Object(i["l"])({name:"Settings",components:{CustomTextInput:_,CustomSwitch:On,CustomLabel:B,KeyValueRow:Le,Card:Ae,CustomSelect:pe,AboutCardContent:wn},computed:{switchDrawerOnRight(){return"right"===this.$store.state.settings.drawerSide},colorThemeOptions(){return Sn.map(e=>({text:this.tc("themes."+e),value:e}))},scheduleLastUpdateTime(){return Oe(new Date(this.$store.state.schedule.timestamp))},scheduleTeamsPerCompetition(){const e={};for(const t of this.$store.state.schedule.teams)t.competition in e?e[t.competition]+=1:e[t.competition]=1;return Object.entries(e).reduce((e,t)=>e+(""===e?"":", ")+`${t[1]} (${je(t[0])})`,"")}},methods:{tc(e){return this.$t("settings."+e)},onInputDrawerPosition(e){this.$store.commit("setDrawerSide",e?"right":"left")},getLocaleOptionName(e){return e in kn&&"languageName"in kn[e]?`${kn[e].languageName} (${e})`:e},setSettingFunction(e){return t=>this.$store.commit("setSetting",{name:e,value:t})},displayArrayValues(e){return e.reduce((e,t)=>e+(""===e?"":", ")+t,"")},async updateScheduleData(){const e=this.$store.state.settings.submitHost+"/schedule/json/",t=[],n=In["jsonFiles"];try{for(const s of n){const n=await fetch(e+s);t.push(await n.text())}const i=In["getComputedData"](t,n),o={arenas:"arenas.json",competitions:"competitions.json",events:"events.json",runs:"scheduled-runs.json",teams:"teams.json"},a={...i,timestamp:Date.now()};for(const e in o)a[e]=JSON.parse(t[n.findIndex(t=>t===o[e])]);this.$store.commit("updateSchedule",a)}catch(i){console.log("error",i.message)}}},mounted(){this.$watch(()=>this.$i18n.locale,()=>{this.$store.commit("setLanguage",this.$i18n.locale)})}});$n.render=un;var xn=$n;Object(i["A"])("data-v-2a513ece");const Ln={key:0},Cn={key:1};function En(e,t,n,o,a,s){const r=Object(i["F"])("checkmark-icon"),c=Object(i["F"])("warning-icon"),u=Object(i["F"])("key-value-row"),l=Object(i["F"])("details-box"),d=Object(i["F"])("card");return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("h1",null,Object(i["H"])(e.tc("runHistory")),1),e.runHistory.length>0?(Object(i["x"])(),Object(i["g"])("div",Ln,[Object(i["k"])(d,null,{default:Object(i["Q"])(()=>[(Object(i["x"])(!0),Object(i["g"])(i["a"],null,Object(i["D"])(e.runHistory,t=>(Object(i["x"])(),Object(i["g"])("div",{key:t.runHistoryId},[Object(i["k"])(l,{title:e.getDetailsBoxTitle(t)},{icon:Object(i["Q"])(()=>["successful"===t.status?(Object(i["x"])(),Object(i["e"])(r,{key:0,class:"status-icon"})):(Object(i["x"])(),Object(i["e"])(c,{key:1,class:"status-icon"}))]),details:Object(i["Q"])(()=>[(Object(i["x"])(!0),Object(i["g"])(i["a"],null,Object(i["D"])(e.getKeyValuePairs(t),e=>(Object(i["x"])(),Object(i["e"])(u,{key:e.key,name:e.key,value:e.value},null,8,["name","value"]))),128))]),_:2},1032,["title"])]))),128))]),_:1})])):(Object(i["x"])(),Object(i["g"])("p",Cn,Object(i["H"])(e.tc("noRunsYet")),1))])}Object(i["y"])(),Object(i["A"])("data-v-cfef6496");const Hn={class:"details-box"},An={class:"title-with-optional-icon"},Dn={class:"icon"},Mn={viewBox:"0 0 10 10"},Bn=["points"],Pn={class:"details"};function Nn(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",Hn,[Object(i["h"])("button",{class:"header no-button-styling pointer-cursor",onClick:t[0]||(t[0]=()=>e.showDetails=!e.showDetails)},[Object(i["h"])("div",An,[Object(i["h"])("div",Dn,[Object(i["E"])(e.$slots,"icon",{},void 0,!0)]),Object(i["h"])("h2",null,Object(i["H"])(e.title),1)]),(Object(i["x"])(),Object(i["g"])("svg",Mn,[Object(i["h"])("polyline",{points:e.showDetails?"2,5 5,2 8,5":"2,3 5,6 8,3",stroke:"var(--text-color)",fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Bn)]))]),Object(i["h"])("div",Pn,[!0===e.showDetails?Object(i["E"])(e.$slots,"details",{key:0},void 0,!0):Object(i["f"])("",!0)])])}Object(i["y"])();var _n=Object(i["l"])({name:"DetailsBox",props:{title:String},data(){return{showDetails:!1}}});n("d358");_n.render=Nn,_n.__scopeId="data-v-cfef6496";var Fn=_n,Vn=Object(i["l"])({components:{DetailsBox:Fn,Card:Ae,CheckmarkIcon:W,WarningIcon:te,KeyValueRow:Le},name:"RunHistory",computed:{runHistory(){return this.$store.state.runHistory.entries.slice().reverse()}},methods:{tc(e){return this.$t("runHistory."+e)},tg(e){return this.$t("general."+e)},getTeamnameForTeamId(e){var t;return(null===(t=this.$store.state.schedule.teams.find(t=>t.teamId===e))||void 0===t?void 0:t.name)||"???"},getDetailsBoxTitle(e){return Oe(new Date(1e3*e.unixTimestamp),"hh:mm ")+this.getTeamnameForTeamId(e.run.teamId)},getKeyValuePairs(e){return[{key:this.tg("team"),value:`${this.getTeamnameForTeamId(e.run.teamId)} (${e.run.teamId})`},{key:`${this.tg("score")} (${this.tg("time")})`,value:`${e.score} (${fe(e.time)})`},{key:""+this.tc("submissionTimestamp"),value:Oe(new Date(1e3*e.unixTimestamp))},{key:""+this.tc("submissionUrl"),value:e.url},..."failed"===e.status?[{key:this.tc("errorDetails"),value:e.error||""}]:[],{key:this.tg("competition"),value:je(e.run.competition||"")},{key:this.tg("arena"),value:`${this.tg("arena")} ${e.run.arenaId}`},{key:this.tg("round"),value:`${this.tg("round")} ${e.run.round}`}]}}});n("b26c");Vn.render=En,Vn.__scopeId="data-v-2a513ece";var Un=Vn;const Qn=[{path:"/",name:"Home",component:y},{path:"/login",name:"Login",component:oe},{path:"/run",name:"New Run",component:re,children:[{path:"setup",name:"Run - Setup",component:Se},{path:"team",name:"Run - Team",component:Ve},{path:"prerun",name:"Run - Pre-run",component:At},{path:"run",name:"Run",component:Qt},{path:"postrun",name:"Run - Post-run",component:Gt},{path:"review",name:"Run - Review",component:Zt},{path:"submitresult",name:"Run - Submit Result",component:nn}]},{path:"/settings",name:"Settings",component:xn},{path:"/runhistory",name:"Run History",component:Un}],Jn=Object(S["a"])({history:Object(S["b"])(),routes:Qn});Jn.beforeEach((e,t,n)=>{wt(e,t,n)});var qn=Jn;Object(i["A"])("data-v-6b992fe1");const Wn=Object(i["i"])('<svg viewBox="0 0 10 10" data-v-6b992fe1><rect x="0" y="0" width="10" height="10" rx="1" fill="var(--theme-color)" data-v-6b992fe1></rect><g aria-label="RCJ\nDSS" id="text429" style="font-size:3.52778px;line-height:1.05;stroke-width:0.264583;" data-v-6b992fe1><path d="M 3.5720072,4.4009566 2.8984906,3.3588146 Q 2.7968602,3.357092 2.61427,3.3467567 V 4.4009566 H 2.1491818 v -2.523534 q 0.037896,0 0.2911108,-0.012058 0.2532146,-0.01378 0.408244,-0.01378 0.9611823,0 0.9611823,0.7441411 0,0.2239314 -0.1326363,0.4082441 Q 3.5444464,3.1882822 3.3429082,3.2640744 L 4.0887718,4.4009566 Z M 2.61427,2.2667186 V 2.967796 q 0.1240235,0.010335 0.1894804,0.010335 0.2807754,0 0.4099666,-0.079237 0.1309137,-0.079237 0.1309137,-0.3083362 0,-0.1860353 -0.1395264,-0.2601049 -0.1395265,-0.07407 -0.43925,-0.07407 -0.072347,0 -0.1515843,0.010335 z" data-v-6b992fe1></path><path d="M 6.0335295,2.0117814 5.8492168,2.3821294 Q 5.699355,2.2322676 5.3669031,2.2322676 q -0.3152264,0 -0.5167646,0.2652725 -0.2015383,0.26355 -0.2015383,0.668349 0,0.404799 0.1860353,0.6425107 0.1877578,0.2377118 0.4995392,0.2377118 0.3565676,0 0.5581058,-0.2549373 l 0.2084284,0.3617353 q -0.2738852,0.2911108 -0.8027077,0.2911108 -0.5288225,0 -0.8216558,-0.3479549 Q 4.183512,3.7481106 4.183512,3.1469411 q 0,-0.5598284 0.3238392,-0.9353441 0.3255618,-0.3772382 0.8319911,-0.3772382 0.4340823,0 0.6941872,0.1774226 z" data-v-6b992fe1></path><path d="m 6.2333453,3.8170126 h 0.3996313 q 0.056844,0.2204862 0.3686255,0.2204862 0.2204862,0 0.3100588,-0.1429715 0.091295,-0.1429716 0.091295,-0.4340823 V 1.8774226 h 0.4478628 v 1.569242 q 0,0.5029842 -0.2135961,0.7458636 -0.2135961,0.2428794 -0.6855745,0.2428794 -0.3135038,0 -0.5064293,-0.1636421 Q 6.2522933,4.1081233 6.2333453,3.8170126 Z" data-v-6b992fe1></path><path d="M 2.868346,8.1225771 H 2.3085176 V 5.6007656 q 0.5357127,-0.018948 0.6735166,-0.018948 0.5512156,0 0.8733323,0.3238392 0.3238391,0.3221166 0.3238391,0.8561068 0,1.3608136 -1.3108596,1.3608136 z M 2.7563803,5.9917842 V 7.714333 q 0.1085206,0.010335 0.2342666,0.010335 0.3393422,0 0.5305451,-0.2463245 0.1929254,-0.2463245 0.1929254,-0.6890195 0,-0.809598 -0.7527538,-0.809598 -0.072347,0 -0.2049833,0.012058 z" data-v-6b992fe1></path><path d="M 4.4548135,7.9830506 4.6201782,7.5816967 q 0.2652725,0.1860353 0.5219323,0.1860353 0.3944637,0 0.3944637,-0.2756078 0,-0.1291912 -0.093018,-0.2463245 Q 5.3505389,7.1286664 5.0594281,6.9839723 4.7700399,6.8375556 4.6684095,6.744538 4.5685017,6.6497978 4.5133801,6.5206067 4.4599811,6.3914155 4.4599811,6.2346635 q 0,-0.2928333 0.2135961,-0.4857587 0.2153186,-0.1929255 0.5512156,-0.1929255 0.4375274,0 0.6425107,0.1636421 L 5.7312222,6.1054724 Q 5.495233,5.9366626 5.2334056,5.9366626 q -0.1550294,0 -0.2411569,0.082682 -0.084405,0.08096 -0.084405,0.2118735 0,0.2170412 0.4805912,0.4513078 0.2532146,0.1240236 0.3651803,0.229099 0.1119657,0.103353 0.1705323,0.2428794 0.058567,0.1378039 0.058567,0.3083363 0,0.3066137 -0.2428794,0.5047068 -0.2411568,0.1980931 -0.6476783,0.1980931 -0.3531226,0 -0.6373431,-0.1825902 z" data-v-6b992fe1></path><path d="M 6.2583222,7.9830506 6.4236869,7.5816967 q 0.2652725,0.1860353 0.5219323,0.1860353 0.3944637,0 0.3944637,-0.2756078 0,-0.1291912 -0.093018,-0.2463245 Q 7.1540476,7.1286664 6.8629369,6.9839723 6.5735487,6.8375556 6.4719183,6.744538 6.3720105,6.6497978 6.3168889,6.5206067 6.2634899,6.3914155 6.2634899,6.2346635 q 0,-0.2928333 0.213596,-0.4857587 0.2153186,-0.1929255 0.5512157,-0.1929255 0.4375274,0 0.6425107,0.1636421 L 7.5347309,6.1054724 Q 7.2987417,5.9366626 7.0369143,5.9366626 q -0.1550294,0 -0.2411568,0.082682 -0.084405,0.08096 -0.084405,0.2118735 0,0.2170412 0.4805911,0.4513078 0.2532147,0.1240236 0.3651804,0.229099 0.1119656,0.103353 0.1705323,0.2428794 0.058567,0.1378039 0.058567,0.3083363 0,0.3066137 -0.2428794,0.5047068 -0.2411569,0.1980931 -0.6476784,0.1980931 -0.3531225,0 -0.6373431,-0.1825902 z" data-v-6b992fe1></path></g></svg>',1),Yn=[Wn];function Gn(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,Yn)}Object(i["y"])();var zn=Object(i["l"])({name:"NavigationDrawerAppIcon"});n("3e44");zn.render=Gn,zn.__scopeId="data-v-6b992fe1";var Kn=zn,Zn=Object(i["l"])({name:"NavigationDrawer",props:{drawer:Boolean,fromLeft:Boolean},components:{NavigationDrawerAppIcon:Kn},emits:["hide"],data(){return{routes:Qn,watchers:[]}},mounted(){window.addEventListener("click",this.onClick),window.addEventListener("keydown",this.hideDrawerOnEscape),this.watchers.push(this.$watch(()=>this.$route,()=>{this.$emit("hide")}))},beforeUnmount(){window.removeEventListener("click",this.onClick),window.removeEventListener("keydown",this.hideDrawerOnEscape);for(const e of this.watchers)e()},methods:{onClick(e){const t=e.target;t.classList.contains("modal")&&this.$emit("hide")},hideDrawerOnEscape(e){27===e.keyCode&&this.$emit("hide")}}});n("b78b");Zn.render=w,Zn.__scopeId="data-v-37a25488";var Xn=Zn,ei=Object(i["l"])({name:"NavigationBar",components:{SwipeGestures:f,NavigationDrawer:Xn},props:{config:{type:Object}},data(){return{drawer:!1}},computed:{drawerOnLeftSide(){return"left"===this.$store.state.settings.drawerSide}},methods:{toggleDrawer(){this.drawer=!this.drawer},showDrawer(){this.drawer=!0},hideDrawer(){this.drawer=!1},back(e){e?this.$router.push(e):this.$router.go(-1)},swipedLeft(){this.drawerOnLeftSide?this.hideDrawer():this.showDrawer()},swipedRight(){this.drawerOnLeftSide?this.showDrawer():this.hideDrawer()}}});n("36f8");ei.render=p,ei.__scopeId="data-v-36cb3e2c";var ti=ei;Object(i["A"])("data-v-7364a84e");const ni=Object(i["h"])("svg",{viewBox:"0 0 100 100"},[Object(i["h"])("path",{d:"M9 50A41 41 0 0 0 91 50A41 44.1 0 0 1 9 50"},[Object(i["h"])("animateTransform",{attributeName:"transform",type:"rotate",dur:"1.6s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 51.55;360 50 51.55"})])],-1),ii={class:"text"};function oi(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div",null,[Object(i["h"])("div",{class:Object(i["r"])(["modal",{active:e.showLoadingAnimation}])},[ni,Object(i["h"])("div",ii,Object(i["H"])(e.text),1)],2)])}Object(i["y"])();var ai=Object(i["l"])({name:"Loader",data(){return{showLoadingAnimation:!1,text:""}},mounted(){Xe.on("loader-start",e=>{this.text=e,this.showLoadingAnimation=!0}),Xe.on("loader-finish",()=>{this.showLoadingAnimation=!1,this.text=""})}});n("4e56");ai.render=oi,ai.__scopeId="data-v-7364a84e";var si=ai;function ri(e,t,n,o,a,s){return Object(i["x"])(),Object(i["g"])("div")}var ci=Object(i["l"])({name:"ColorTheme",computed:{selectedTheme(){return this.$store.state.settings.theme}},methods:{setTheme(){document.body.setAttribute("data-theme",this.selectedTheme)}},watch:{selectedTheme(){this.setTheme()}},mounted(){this.setTheme()}});n("0ed0");ci.render=ri;var ui=ci;const li="getNavigationBarConfig";var di=Object(i["l"])({name:"App",components:{NavigationBar:ti,Loader:si,ColorTheme:ui},data(){return{navigationBarConfig:{}}},mounted(){this.updateNavigationBarOnRouteChange()},methods:{updateNavigationBarOnRouteChange(){this.$watch(()=>this.$route,e=>{function t(e,n,i=""){for(const o of n){if(i+o.path===e)return o;if(e.startsWith(i+o.path)&&o.children){const n=t(e,o.children,`${i}${o.path}/`);if(n)return n}}}const n=t(e.path,Qn);if(n){const e=n.component;if(e&&e.methods&&"function"===typeof e.methods[li]){const t=e.methods[li]();return void(this.navigationBarConfig=t)}}this.navigationBarConfig={}})}}});n("eeff");di.render=a;var mi=di,hi=n("9483");Object(hi["a"])("/rcj-dss/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var bi=n("5502");const pi="rcj-dss-vue-";function Oi(e){return localStorage.getItem(pi+e)}function gi(e,t){localStorage.setItem(pi+e,t)}function ji(e,t={}){const n=Oi(e);try{const e=JSON.parse(n||"");return e||t}catch{return t}}function vi(e,t){const n=JSON.stringify(t);gi(e,n)}const fi={event:"2022-berlin",host:"https://rcj.pythonanywhere.com",path:"/api/v1/submit_run"};var wi={state(){return{language:"en",drawerSide:"left",theme:"light",submitEvent:fi.event,submitHost:fi.host,submitPath:fi.path,username:"",password:"",loginStatus:null}},getters:{language(e){return e.language}},mutations:{setLanguage(e,t){e.language=t},setDrawerSide(e,t){e.drawerSide=t},restoreAPIDefaults(e){e.submitEvent=fi.event,e.submitHost=fi.host,e.submitPath=fi.path},setSetting(e,t){e[t.name]=t.value},setLoginStatus(e,t){e.loginStatus=t}},actions:{},modules:{}},Si=n("448a"),Ii=n("3e53"),Ri=n("1942"),yi=n("5033"),Ti=n("33d9"),ki=n("54a0"),$i=n("0a67"),xi={state(){return{timestamp:0,arenas:[],competitions:[],events:[],runs:[],teams:[],rounds:0,arenasByCompetition:{}}},mutations:{initSchedule(e){Ii.time>e.timestamp&&(e.arenas=Ri,e.competitions=yi,e.events=Ti,e.runs=ki,e.teams=$i,e.rounds=Si.rounds,e.arenasByCompetition=Si.arenasByCompetition,e.timestamp=Ii.time)},updateSchedule(e,t){for(const n in t)e[n]=t[n]}},actions:{},modules:{}};function Li(e,t){const n=null===e?0:Date.now()/1e3-e;return t+n}var Ci={state(){return{runIdSchedule:0,competition:"",teamId:"",arenaId:"",round:0,scoring:{teamStarted:!0,evacuationPoint:void 0},time:{timeOffset:0,timeStartedTimestamp:null,timestampRunStart:null,timestampRunEnd:null}}},getters:{isTimeRunning(e){return null!==e.time.timeStartedTimestamp},runTime(e){return Li(e.time.timeStartedTimestamp,e.time.timeOffset)},runTimeAsString(e,t){return fe(Math.floor(t.runTime))},remainingRunTimeAsString(e,t){const n=480-Math.floor(t.runTime);return(n<0?"-":"")+fe(Math.abs(n))}},mutations:{setCompetition(e,t){e.competition=t},setArena(e,t){e.arenaId=t},setRound(e,t){e.round=t},setTeam(e,t){e.teamId=t},setEvacuationPoint(e,t){e.scoring.evacuationPoint=t},setTeamStarted(e,t){e.scoring.teamStarted=t},toggleTime(e){if(null===e.time.timeStartedTimestamp)e.time.timeStartedTimestamp=Date.now()/1e3,null===e.time.timestampRunStart&&(e.time.timestampRunStart=Math.floor(e.time.timeStartedTimestamp)),Xe.emit("started-time");else{const t=Date.now()/1e3-e.time.timeStartedTimestamp;e.time.timeStartedTimestamp=null,e.time.timeOffset+=t,e.time.timestampRunEnd=Math.floor(Date.now()/1e3),Xe.emit("paused-time")}},setTime(e,t){e.time.timeOffset+=t-Li(e.time.timeStartedTimestamp,e.time.timeOffset),Xe.emit("updated-time")},resetCurrentRun(e){e.runIdSchedule=0,e.teamId="",e.scoring={teamStarted:!0,evacuationPoint:void 0},e.time={timeOffset:0,timeStartedTimestamp:null,timestampRunStart:null,timestampRunEnd:null}}},actions:{},modules:{}},Ei={state(){return{entries:[]}},mutations:{addEntryToRunHistory(e,t){e.entries.push(t)}},actions:{},modules:{}};const Hi="vuexstore-",Ai={settings:wi,schedule:xi,currentRun:Ci,runHistory:Ei},Di={};for(const[_i,Fi]of Object.entries(Ai))for(const e in Fi.mutations)e in Di?Di[e].push(_i):Di[e]=[_i];const Mi=Object(bi["a"])({modules:Ai,mutations:{init(e,t){for(const[n,i]of Object.entries(e))for(const e in i)n in t&&e in t[n]&&(i[e]=t[n][e])}}});Mi.commit("init",Object.fromEntries(Object.keys(Ai).map(e=>[e,ji(Hi+e)]))),Mi.subscribe((e,t)=>{for(const n of Di[e.type])vi(Hi+n,t[n])}),Mi.commit("initSchedule");var Bi=Mi,Pi=n("47e2");const Ni=Object(Pi["a"])({locale:Bi.getters.language||"en",messages:Tn});Object(i["d"])(mi).use(Bi).use(qn).use(Ni).mount("#app")},cd4a:function(e,t,n){},cf7f:function(e,t,n){},d358:function(e,t,n){"use strict";n("a403")},dc61:function(e,t,n){},e572:function(e,t,n){},e8dd:function(e,t,n){},ecaf:function(e,t,n){"use strict";n("e572")},ed19:function(e,t,n){},edd4:function(e){e.exports=JSON.parse('{"languageName":"English","general":{"referee":"Referee","competition":"Competition","arena":"Arena","round":"Round","evacuationPoint":"Evacuation Point","epLow":"low","epHigh":"high","team":"Team","run":"Run","buttonSetTime":"Set Time","cancel":"Cancel","save":"Save","score":"Score","time":"Time"},"nav":{"appTitle":"RCJ Digital Scoring Sheet","routeNames":{"/":"Home","/login":"Login","/run":"New Run","/settings":"Settings","/runhistory":"Run History"}},"home":{"message":"Hello, World!"},"login":{"headingLogin":"Login","username":"Username","password":"Password","buttonLogin":"Login"},"run":{"setup":{"runSetup":"Setup","selectTeam":"Select Team"},"team":{"runTeam":"Select Team","setup":"Setup","team":"Team","continueToPreRun":"Continue"},"preRun":{"runPreRun":"Run Setup","teamSetup":"Team & Setup","teamShowedUp":"Team showed up","continueToRun":"Continue"},"run":{},"postRun":{},"review":{"review":"Review","submit":"Submit","submittingRun":"Submitting Run"},"submitResult":{"submitResult":"Submit Result","newRun":"New Run","runHistory":"Run History"}},"runHistory":{"runHistory":"Run History","noRunsYet":"There are no runs yet","submissionTimestamp":"Submission Timestamp","submissionUrl":"Submission URL","errorDetails":"Error Details"},"settings":{"settings":"Settings","app":"App","language":"Language","drawer":"Drawer","drawerOnRightText":"Drawer on the right (default: left)","theme":"Theme","themes":{"system":"System","light":"Light","dark":"Dark"},"scheduleData":"Schedule Data","scheduleLastUpdated":"Last Updated:","scheduleArenas":"Arenas:","scheduleRounds":"Rounds:","scheduleCompetitions":"Competitions:","scheduleTeams":"Teams:","scheduleRuns":"Runs:","checkForScheduleUpdates":"Check for Updates","runSubmission":"Run Submission","event":"Event","submitHost":"Submit Host","submitPath":"Submit Path","submitRestoreDefaults":"Reset","submitSaveSettings":"Save","about":"About"}}')},eeff:function(e,t,n){"use strict";n("a1da")}});
//# sourceMappingURL=app.ec0dd72b.js.map